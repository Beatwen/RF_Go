"use strict";(self.webpackChunkrf_go_docs=self.webpackChunkrf_go_docs||[]).push([[1409],{7505:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"uml-analysis/use-cases/uc-001","title":"UC-001 : D\xe9couverte automatique des appareils","description":"R\xe9sum\xe9 : Le syst\xe8me d\xe9tecte automatiquement au d\xe9marrage tous les appareils RF disponibles sur le r\xe9seau. L\'utilisateur peut \xe9galement d\xe9clencher manuellement cette d\xe9couverte via un bouton \\"Refresh\\".","source":"@site/docs/uml-analysis/use-cases/uc-001.md","sourceDirName":"uml-analysis/use-cases","slug":"/uml-analysis/use-cases/uc-001","permalink":"/RF_Go/uml-analysis/use-cases/uc-001","draft":false,"unlisted":false,"editUrl":"https://github.com/Beatwen/RF_Go/tree/main/docs/uml-analysis/use-cases/uc-001.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Vue d\'ensemble","permalink":"/RF_Go/uml-analysis/use-cases/overview"},"next":{"title":"UC-002 : Calcul du plan fr\xe9quences","permalink":"/RF_Go/uml-analysis/use-cases/uc-002"}}');var i=r(4848),t=r(8453);const a={},o="UC-001 : D\xe9couverte automatique des appareils",c={},l=[{value:"Sc\xe9nario nominal",id:"sc\xe9nario-nominal",level:2},{value:"Diagramme de s\xe9quence",id:"diagramme-de-s\xe9quence",level:2},{value:"Diagramme d&#39;activit\xe9",id:"diagramme-dactivit\xe9",level:2},{value:"Sc\xe9nario alternatif 1 : Aucun appareil d\xe9tect\xe9",id:"sc\xe9nario-alternatif-1--aucun-appareil-d\xe9tect\xe9",level:2},{value:"Sc\xe9nario alternatif 2 : D\xe9couverte partielle - Certains protocoles \xe9chouent",id:"sc\xe9nario-alternatif-2--d\xe9couverte-partielle---certains-protocoles-\xe9chouent",level:2},{value:"Sc\xe9nario alternatif 3 : \xc9chec communication avec handler",id:"sc\xe9nario-alternatif-3--\xe9chec-communication-avec-handler",level:2}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",mermaid:"mermaid",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"uc-001--d\xe9couverte-automatique-des-appareils",children:"UC-001 : D\xe9couverte automatique des appareils"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"R\xe9sum\xe9 :"}),' Le syst\xe8me d\xe9tecte automatiquement au d\xe9marrage tous les appareils RF disponibles sur le r\xe9seau. L\'utilisateur peut \xe9galement d\xe9clencher manuellement cette d\xe9couverte via un bouton "Refresh".']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Acteur :"})," Ing\xe9nieur du Son"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Pr\xe9condition :"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"R\xe9seau configur\xe9 et accessible"}),"\n",(0,i.jsx)(n.li,{children:"Au moins un appareil RF connect\xe9 et allum\xe9"}),"\n",(0,i.jsx)(n.li,{children:"Droits multicast activ\xe9s sur le r\xe9seau"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Date de cr\xe9ation :"})," 31/1/24",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Version :"})," 1.3"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Post condition :"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Liste d'appareils disponibles affich\xe9e dans l'onglet \"Online\""}),"\n",(0,i.jsx)(n.li,{children:"M\xe9tadonn\xe9es techniques r\xe9cup\xe9r\xe9es (nom, marque, IP, type, num\xe9ro de s\xe9rie)"}),"\n",(0,i.jsx)(n.li,{children:"\xc9tats de connectivit\xe9 et synchronisation connus"}),"\n",(0,i.jsx)(n.li,{children:"Appareils pr\xeats pour synchronisation ou mapping"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"sc\xe9nario-nominal",children:"Sc\xe9nario nominal"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Acteur"}),(0,i.jsx)(n.th,{children:"Action"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsxs)(n.td,{children:["1. Au d\xe9marrage de l'application, le syst\xe8me lance automatiquement ",(0,i.jsx)(n.code,{children:"DiscoveryService.StartDiscovery()"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsx)(n.td,{children:'2. Le syst\xe8me d\xe9marre les services de d\xe9couverte multicast mDNS pour "_ssc._udp.local" (Sennheiser) et "_ewd._http.local"'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsx)(n.td,{children:"3. Le syst\xe8me lance en parall\xe8le trois processus de d\xe9couverte sp\xe9cialis\xe9s : mDNS standard, Sennheiser G4 propri\xe9taire (224.0.0.251:8133), et Shure SLP (239.255.254.253:8427)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Appareils RF"})}),(0,i.jsx)(n.td,{children:"4. Les appareils compatibles r\xe9pondent via leurs protocoles respectifs selon leur marque"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsx)(n.td,{children:"5. Pour chaque r\xe9ponse re\xe7ue, le syst\xe8me d\xe9termine le handler appropri\xe9 selon la marque et le type d'appareil (ShureDeviceHandler, SennheiserDeviceHandler, SennheiserG4DeviceHandler)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsx)(n.td,{children:"6. Le handler sp\xe9cialis\xe9 se connecte \xe0 l'appareil et extrait les informations techniques d\xe9taill\xe9es"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsxs)(n.td,{children:["7. ",(0,i.jsx)(n.strong,{children:"Shure"})," : Via TCP port 2202, r\xe9cup\xe8re mod\xe8le (commande MODEL), num\xe9ro de s\xe9rie via MAC address (commande NET_SETTINGS), nom et fr\xe9quence de chaque canal (commandes CHAN_NAME et FREQUENCY)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsxs)(n.td,{children:["8. ",(0,i.jsx)(n.strong,{children:"Sennheiser standard"})," : Via UDP port 45, r\xe9cup\xe8re mod\xe8le, code de fr\xe9quence, num\xe9ro de s\xe9rie, et pour chaque canal (rx1, rx2) le nom et la fr\xe9quence via commandes JSON"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsxs)(n.td,{children:["9. ",(0,i.jsx)(n.strong,{children:"Sennheiser G4"})," : Via UDP propri\xe9taire, r\xe9cup\xe8re la bande de fr\xe9quence (RfConfig min/max), nom du canal et fr\xe9quence via commandes sp\xe9cifiques G4"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsx)(n.td,{children:"10. Le syst\xe8me v\xe9rifie si l'appareil correspond \xe0 un appareil d\xe9j\xe0 import\xe9 (comparaison num\xe9ro de s\xe9rie ou macaddress en fonction des devices)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Syst\xe8me"})}),(0,i.jsx)(n.td,{children:'11. Le syst\xe8me affiche l\'appareil dans la liste "Online" avec le statut de synchronisation "Sync!"'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Ing\xe9nieur"})}),(0,i.jsx)(n.td,{children:"12. L'ing\xe9nieur peut appuyer sur le bouton \"Refresh\" dans l'onglet Online pour relancer manuellement la d\xe9couverte"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"diagramme-de-s\xe9quence",children:"Diagramme de s\xe9quence"}),"\n",(0,i.jsx)(n.mermaid,{value:'sequenceDiagram\r\n    participant I as Ing\xe9nieur du Son\r\n    participant UI as Interface (OnlineTab)\r\n    participant DS as DiscoveryService\r\n    participant H as Handlers\r\n    participant D as Appareils RF\r\n\r\n    Note over I, D: Sc\xe9nario Nominal\r\n\r\n    I->>UI: Clique bouton "Refresh"\r\n    I->>UI: D\xe9marre l\'application (lancement auto du Discovery)\r\n    UI->>DS: StartDiscovery()\r\n    \r\n    DS->>DS: D\xe9marre 3 protocoles d\xe9couverte<br/>(mDNS, G4 UDP, Shure SLP)\r\n    DS->>D: Envoie requ\xeates d\xe9couverte\r\n    D--\x3e>DS: R\xe9ponses appareils RF\r\n    DS->>DS: D\xe9termine handler appropri\xe9\r\n    DS->>H: HandleDevice(deviceInfo)\r\n    H->>D: R\xe9cup\xe8re d\xe9tails techniques<br/>(mod\xe8le, s\xe9rie, canaux)\r\n    D--\x3e>H: Informations compl\xe8tes\r\n    H--\x3e>DS: DeviceInfo compl\xe8te\r\n    DS->>DS: V\xe9rifie correspondance appareils import\xe9s\r\n    DS->>DS: Ajoute \xe0 DiscoveredDevices\r\n    DS->>UI: DeviceDiscovered Event\r\n    UI--\x3e>I: Affiche liste appareils avec statut "Sync!"\r\n\r\n    alt Sc\xe9nario Alternatif 1 : Aucun appareil d\xe9tect\xe9\r\n        DS->>D: Envoie requ\xeates d\xe9couverte\r\n        Note over D: Timeout (10s G4/Shure, 3s mDNS)\r\n        DS--\x3e>UI: Aucune r\xe9ponse\r\n        UI--\x3e>I: Affiche "No devices found yet on the network"\r\n    end\r\n\r\n    alt Sc\xe9nario Alternatif 2 : D\xe9couverte partielle\r\n        DS->>D: Envoie requ\xeates d\xe9couverte\r\n        Note over D: Certains protocoles \xe9chouent\r\n        D--\x3e>DS: R\xe9ponses partielles\r\n        DS--\x3e>UI: Appareils trouv\xe9s partiellement\r\n        UI--\x3e>I: Liste partielle d\'appareils\r\n    end\r\n\r\n    alt Sc\xe9nario Alternatif 3 : \xc9chec communication handler\r\n        DS->>H: HandleDevice(deviceInfo)\r\n        H->>D: Tentative r\xe9cup\xe9ration d\xe9tails\r\n        D--\x3e>H: Timeout/Erreur\r\n        H--\x3e>DS: DeviceInfo partielle (nom, IP seulement)\r\n        DS--\x3e>UI: Appareil avec infos incompl\xe8tes\r\n        UI--\x3e>I: Affiche appareil avec donn\xe9es manquantes\r\n    end'}),"\n",(0,i.jsx)(n.h2,{id:"diagramme-dactivit\xe9",children:"Diagramme d'activit\xe9"}),"\n",(0,i.jsx)(n.mermaid,{value:"flowchart TD\r\n    A[D\xe9but] --\x3e B{D\xe9marrage auto ou manuel?}\r\n    B --\x3e|Auto| C[Lancement application]\r\n    B --\x3e|Manuel| D[Clic bouton Refresh]\r\n    \r\n    C --\x3e E[StartDiscovery automatique]\r\n    D --\x3e E[StartDiscovery manuel]\r\n    \r\n    E --\x3e F[D\xe9marrer 3 protocoles en parall\xe8le]\r\n    F --\x3e G[mDNS standard]\r\n    F --\x3e H[Sennheiser G4 propri\xe9taire]\r\n    F --\x3e I[Shure SLP]\r\n    \r\n    G --\x3e J[Attendre r\xe9ponses mDNS 3s]\r\n    H --\x3e K[Attendre r\xe9ponses G4 10s]\r\n    I --\x3e L[Attendre r\xe9ponses SLP 10s]\r\n    \r\n    J --\x3e M{R\xe9ponses re\xe7ues?}\r\n    K --\x3e N{R\xe9ponses re\xe7ues?}\r\n    L --\x3e O{R\xe9ponses re\xe7ues?}\r\n    \r\n    M --\x3e|Non| P[Timeout mDNS]\r\n    M --\x3e|Oui| Q[Traiter r\xe9ponses mDNS]\r\n    \r\n    N --\x3e|Non| R[Timeout G4]\r\n    N --\x3e|Oui| S[Traiter r\xe9ponses G4]\r\n    \r\n    O --\x3e|Non| T[Timeout SLP]\r\n    O --\x3e|Oui| U[Traiter r\xe9ponses SLP]\r\n    \r\n    Q --\x3e V[D\xe9terminer handler appropri\xe9]\r\n    S --\x3e V\r\n    U --\x3e V\r\n    \r\n    V --\x3e W{Type d'appareil?}\r\n    W --\x3e|Shure| X[ShureDeviceHandler]\r\n    W --\x3e|Sennheiser| Y[SennheiserDeviceHandler]\r\n    W --\x3e|Sennheiser G4| Z[SennheiserG4DeviceHandler]\r\n    \r\n    X --\x3e AA[Connexion TCP:2202]\r\n    Y --\x3e BB[Connexion UDP:45]\r\n    Z --\x3e CC[Connexion UDP propri\xe9taire]\r\n    \r\n    AA --\x3e DD{Connexion r\xe9ussie?}\r\n    BB --\x3e EE{Connexion r\xe9ussie?}\r\n    CC --\x3e FF{Connexion r\xe9ussie?}\r\n    \r\n    DD --\x3e|Non| GG[\xc9chec communication Shure]\r\n    DD --\x3e|Oui| HH[R\xe9cup\xe9rer MODEL, NET_SETTINGS, CHAN_NAME, FREQUENCY]\r\n    \r\n    EE --\x3e|Non| II[\xc9chec communication Sennheiser]\r\n    EE --\x3e|Oui| JJ[R\xe9cup\xe9rer mod\xe8le, code fr\xe9quence, s\xe9rie, canaux JSON]\r\n    \r\n    FF --\x3e|Non| KK[\xc9chec communication G4]\r\n    FF --\x3e|Oui| LL[R\xe9cup\xe9rer RfConfig, nom canal, fr\xe9quence G4]\r\n    \r\n    HH --\x3e MM[V\xe9rifier correspondance appareil import\xe9]\r\n    JJ --\x3e MM\r\n    LL --\x3e MM\r\n    \r\n    MM --\x3e NN{Appareil d\xe9j\xe0 import\xe9?}\r\n    NN --\x3e|Oui| OO[Marquer IsSynced]\r\n    NN --\x3e|Non| PP[Nouvel appareil d\xe9couvert]\r\n    \r\n    OO --\x3e QQ[Afficher avec statut Sync!]\r\n    PP --\x3e QQ\r\n    \r\n    GG --\x3e RR[Afficher avec donn\xe9es partielles]\r\n    II --\x3e RR\r\n    KK --\x3e RR\r\n    RR --\x3e QQ\r\n    \r\n    P --\x3e SS{Autres protocoles OK?}\r\n    R --\x3e SS\r\n    T --\x3e SS\r\n    \r\n    SS --\x3e|Oui| QQ\r\n    SS --\x3e|Non| TT[Afficher 'No devices found']\r\n    \r\n    QQ --\x3e UU[Mise \xe0 jour interface OnlineTab]\r\n    TT --\x3e UU\r\n    \r\n    UU --\x3e VV[Fin d\xe9couverte]"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"sc\xe9nario-alternatif-1--aucun-appareil-d\xe9tect\xe9",children:"Sc\xe9nario alternatif 1 : Aucun appareil d\xe9tect\xe9"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Condition initiale :"})," Le r\xe9seau est vide ou tous les appareils sont \xe9teints.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"D\xe9clenchement :"})," Ce sc\xe9nario d\xe9bute au point 4 du sc\xe9nario nominal."]}),"\n",(0,i.jsx)(n.p,{children:'Le syst\xe8me envoie les requ\xeates de d\xe9couverte sur les trois protocoles (mDNS, G4 UDP, Shure SLP). Aucun appareil ne r\xe9pond dans les d\xe9lais impartis (10 secondes pour G4 et Shure, 3 secondes pour mDNS). Le syst\xe8me affiche le message "No devices found yet on the network" dans l\'interface OnlineTab. L\'ing\xe9nieur peut relancer la d\xe9couverte avec le bouton "Refresh" ou v\xe9rifier que les appareils sont allum\xe9s et connect\xe9s.'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Reprise :"})," Le sc\xe9nario nominal reprend au point 1, apr\xe8s que des appareils ont \xe9t\xe9 mis en marche et connect\xe9s."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"sc\xe9nario-alternatif-2--d\xe9couverte-partielle---certains-protocoles-\xe9chouent",children:"Sc\xe9nario alternatif 2 : D\xe9couverte partielle - Certains protocoles \xe9chouent"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Condition initiale :"})," Certains protocoles de d\xe9couverte ne fonctionnent pas (pare-feu, configuration r\xe9seau).",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"D\xe9clenchement :"})," Ce sc\xe9nario d\xe9bute au point 3 du sc\xe9nario nominal."]}),"\n",(0,i.jsx)(n.p,{children:"Le syst\xe8me lance les trois processus de d\xe9couverte en parall\xe8le. Un ou plusieurs protocoles \xe9chouent (par exemple, mDNS bloqu\xe9 par firewall mais UDP G4 et SLP Shure fonctionnent). Le syst\xe8me continue avec les protocoles qui fonctionnent et affiche les appareils trouv\xe9s. Les messages de debug indiquent les protocoles qui ont \xe9chou\xe9 dans la console. L'ing\xe9nieur voit une liste partielle d'appareils et peut tenter de r\xe9soudre les probl\xe8mes r\xe9seau."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Reprise :"})," Le sc\xe9nario nominal reprend au point 3, apr\xe8s r\xe9solution des probl\xe8mes r\xe9seau."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"sc\xe9nario-alternatif-3--\xe9chec-communication-avec-handler",children:"Sc\xe9nario alternatif 3 : \xc9chec communication avec handler"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Condition initiale :"})," L'appareil est d\xe9tect\xe9 mais le handler ne peut pas r\xe9cup\xe9rer les informations d\xe9taill\xe9es.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"D\xe9clenchement :"})," Ce sc\xe9nario d\xe9bute au point 6 du sc\xe9nario nominal."]}),"\n",(0,i.jsx)(n.p,{children:"Le syst\xe8me d\xe9tecte un appareil et d\xe9termine le handler appropri\xe9. Le handler tente de se connecter (TCP:2202 pour Shure, UDP:45 pour Sennheiser, UDP propri\xe9taire pour G4) mais \xe9choue ou re\xe7oit des r\xe9ponses invalides. L'appareil est tout de m\xeame ajout\xe9 \xe0 la liste avec les informations partielles disponibles (nom, IP, marque). Les informations manquantes (mod\xe8le, s\xe9rie, canaux) restent vides. L'ing\xe9nieur peut tenter une nouvelle synchronisation ou v\xe9rifier la connectivit\xe9 de l'appareil."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Reprise :"})," Le sc\xe9nario nominal reprend au point 7, si la connectivit\xe9 est restaur\xe9e."]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var s=r(6540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);